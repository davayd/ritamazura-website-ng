"use strict";(self.webpackChunkritamazura_website_ng=self.webpackChunkritamazura_website_ng||[]).push([[134],{134:(Ie,Y,h)=>{h.r(Y),h.d(Y,{PhotographySessionModule:()=>fe});var I=h(9808),N=h(2432),K=h(7579),V=h(2722),B=h(7334),C=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},L=function(t){return"IMG"===t.tagName},H=function(t){return t&&1===t.nodeType},J=function(t){return".svg"===(t.currentSrc||t.src).substr(-4).toLowerCase()},Q=function(t){try{return Array.isArray(t)?t.filter(L):function(t){return NodeList.prototype.isPrototypeOf(t)}(t)?[].slice.call(t).filter(L):H(t)?[t].filter(L):"string"==typeof t?[].slice.call(document.querySelectorAll(t)).filter(L):[]}catch(n){throw new TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},_=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},ee=function(t){var n=t.getBoundingClientRect(),s=n.top,l=n.left,Z=n.width,j=n.height,z=t.cloneNode(),R=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,P=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return z.removeAttribute("id"),z.style.position="absolute",z.style.top=s+R+"px",z.style.left=l+P+"px",z.style.width=Z+"px",z.style.height=j+"px",z.style.transform="",z},S=function(t,n){var s=C({bubbles:!1,cancelable:!1,detail:void 0},n);if("function"==typeof window.CustomEvent)return new CustomEvent(t,s);var l=document.createEvent("CustomEvent");return l.initCustomEvent(t,s.bubbles,s.cancelable,s.detail),l};!function oe(i,t){void 0===t&&(t={});var n=t.insertAt;if(i&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],l=document.createElement("style");l.type="text/css","top"===n&&s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),l.styleSheet?l.styleSheet.cssText=i:l.appendChild(document.createTextNode(i))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");const ie=function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=window.Promise||function(r){function a(){}r(a,a)},l=function(r){var a=r.target;a!==M?-1!==v.indexOf(a)&&k({target:a}):b()},Z=function(){if(!w&&e.original){var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(X-r)>m.scrollOffset&&setTimeout(b,150)}},j=function(r){var a=r.key||r.keyCode;("Escape"===a||"Esc"===a||27===a)&&b()},z=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r;if(r.background&&(M.style.background=r.background),r.container&&r.container instanceof Object&&(a.container=C({},m.container,r.container)),r.template){var c=H(r.template)?r.template:document.querySelector(r.template);a.template=c}return m=C({},m,a),v.forEach(function(u){u.dispatchEvent(S("medium-zoom:update",{detail:{zoom:g}}))}),g},R=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(C({},m,r))},P=function(){for(var r=arguments.length,a=Array(r),c=0;c<r;c++)a[c]=arguments[c];var u=a.reduce(function(d,f){return[].concat(d,Q(f))},[]);return u.filter(function(d){return-1===v.indexOf(d)}).forEach(function(d){v.push(d),d.classList.add("medium-zoom-image")}),T.forEach(function(d){var f=d.type,y=d.listener,x=d.options;u.forEach(function(E){E.addEventListener(f,y,x)})}),g},he=function(){for(var r=arguments.length,a=Array(r),c=0;c<r;c++)a[c]=arguments[c];e.zoomed&&b();var u=a.length>0?a.reduce(function(d,f){return[].concat(d,Q(f))},[]):v;return u.forEach(function(d){d.classList.remove("medium-zoom-image"),d.dispatchEvent(S("medium-zoom:detach",{detail:{zoom:g}}))}),v=v.filter(function(d){return-1===u.indexOf(d)}),g},ve=function(r,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.forEach(function(u){u.addEventListener("medium-zoom:"+r,a,c)}),T.push({type:"medium-zoom:"+r,listener:a,options:c}),g},ye=function(r,a){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return v.forEach(function(u){u.removeEventListener("medium-zoom:"+r,a,c)}),T=T.filter(function(u){return!(u.type==="medium-zoom:"+r&&u.listener.toString()===a.toString())}),g},W=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.target,c=function(){var d={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},f=void 0,y=void 0;if(m.container)if(m.container instanceof Object)f=(d=C({},d,m.container)).width-d.left-d.right-2*m.margin,y=d.height-d.top-d.bottom-2*m.margin;else{var E=(H(m.container)?m.container:document.querySelector(m.container)).getBoundingClientRect();d=C({},d,{width:E.width,height:E.height,left:E.left,top:E.top})}f=f||d.width-2*m.margin,y=y||d.height-2*m.margin;var O=e.zoomedHd||e.original,xe=J(O)?f:O.naturalWidth||f,Oe=J(O)?y:O.naturalHeight||y,A=O.getBoundingClientRect(),Le=A.top,He=A.left,$=A.width,D=A.height,Pe=Math.min(xe,f)/$,Te=Math.min(Oe,y)/D,F=Math.min(Pe,Te),G="scale("+F+") translate3d("+((f-$)/2-He+m.margin+d.left)/F+"px, "+((y-D)/2-Le+m.margin+d.top)/F+"px, 0)";e.zoomed.style.transform=G,e.zoomedHd&&(e.zoomedHd.style.transform=G)};return new s(function(u){if(a&&-1===v.indexOf(a))u(g);else if(e.zoomed)u(g);else{if(a)e.original=a;else{if(!(v.length>0))return void u(g);e.original=v[0]}if(e.original.dispatchEvent(S("medium-zoom:open",{detail:{zoom:g}})),X=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,w=!0,e.zoomed=ee(e.original),document.body.appendChild(M),m.template){var y=H(m.template)?m.template:document.querySelector(m.template);e.template=document.createElement("div"),e.template.appendChild(y.content.cloneNode(!0)),document.body.appendChild(e.template)}if(document.body.appendChild(e.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),e.original.classList.add("medium-zoom-image--hidden"),e.zoomed.classList.add("medium-zoom-image--opened"),e.zoomed.addEventListener("click",b),e.zoomed.addEventListener("transitionend",function U(){w=!1,e.zoomed.removeEventListener("transitionend",U),e.original.dispatchEvent(S("medium-zoom:opened",{detail:{zoom:g}})),u(g)}),e.original.getAttribute("data-zoom-src")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("srcset"),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.src=e.zoomed.getAttribute("data-zoom-src"),e.zoomedHd.onerror=function(){clearInterval(x),console.warn("Unable to reach the zoom image target "+e.zoomedHd.src),e.zoomedHd=null,c()};var x=setInterval(function(){e.zoomedHd.complete&&(clearInterval(x),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",b),document.body.appendChild(e.zoomedHd),c())},10)}else if(e.original.hasAttribute("srcset")){e.zoomedHd=e.zoomed.cloneNode(),e.zoomedHd.removeAttribute("sizes"),e.zoomedHd.removeAttribute("loading");var E=e.zoomedHd.addEventListener("load",function(){e.zoomedHd.removeEventListener("load",E),e.zoomedHd.classList.add("medium-zoom-image--opened"),e.zoomedHd.addEventListener("click",b),document.body.appendChild(e.zoomedHd),c()})}else c()}})},b=function(){return new s(function(r){!w&&e.original?(w=!0,document.body.classList.remove("medium-zoom--opened"),e.zoomed.style.transform="",e.zoomedHd&&(e.zoomedHd.style.transform=""),e.template&&(e.template.style.transition="opacity 150ms",e.template.style.opacity=0),e.original.dispatchEvent(S("medium-zoom:close",{detail:{zoom:g}})),e.zoomed.addEventListener("transitionend",function c(){e.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(e.zoomed),e.zoomedHd&&document.body.removeChild(e.zoomedHd),document.body.removeChild(M),e.zoomed.classList.remove("medium-zoom-image--opened"),e.template&&document.body.removeChild(e.template),w=!1,e.zoomed.removeEventListener("transitionend",c),e.original.dispatchEvent(S("medium-zoom:closed",{detail:{zoom:g}})),e.original=null,e.zoomed=null,e.zoomedHd=null,e.template=null,r(g)})):r(g)})},k=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.target;return e.original?b():W({target:a})},ze=function(){return m},be=function(){return v},Ee=function(){return e.original},v=[],T=[],w=!1,X=0,m=n,e={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(t)?m=t:(t||"string"==typeof t)&&P(t),m=C({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},m);var M=_(m.background);document.addEventListener("click",l),document.addEventListener("keyup",j),document.addEventListener("scroll",Z),window.addEventListener("resize",b);var g={open:W,close:b,toggle:k,update:z,clone:R,attach:P,detach:he,on:ve,off:ye,getOptions:ze,getImages:be,getZoomedImage:Ee};return g};var o=h(1223),re=h(492),ae=h(1740),de=h(7117);function se(i,t){if(1&i&&(o.TgZ(0,"div",10),o._UZ(1,"img",11),o.qZA()),2&i){const n=t.$implicit,s=o.oxw(2);o.xp6(1),o.Q6J("src",n.url,o.LSH),o.uIk("width",n.sizes[s.imageMode].width)("height",n.sizes[s.imageMode].height)("alt",n.label)}}function me(i,t){if(1&i&&(o.ynx(0),o.TgZ(1,"h2",3),o._uU(2),o.qZA(),o.TgZ(3,"div",4)(4,"ngx-masonry",5),o._UZ(5,"div",6)(6,"div",7),o.YNc(7,se,2,4,"div",8),o.qZA()(),o._UZ(8,"app-paginator",9),o.BQk()),2&i){const n=o.oxw();o.xp6(2),o.hij(" ",n.session.title," "),o.xp6(2),o.Q6J("options",n.masonryOptions),o.xp6(3),o.Q6J("ngForOf",n.session.photos),o.xp6(1),o.Q6J("session",n.session)}}function le(i,t){1&i&&o._uU(0," Not found ")}const ce=[{path:"",component:(()=>{class i{constructor(n,s,l){this.activateRoute=n,this.applicationStateService=s,this.cdRef=l,this.masonryOptions={gutter:".gutter-sizer",columnWidth:".grid-sizer",itemSelector:".grid-item",percentPosition:!0,horizontalOrder:!0},this.imageMode=this.applicationStateService.imageMode,this.destroy$=new K.x}ngOnInit(){this.activateRoute.paramMap.pipe((0,V.R)(this.destroy$)).subscribe(n=>{const s=n.get("id");this.session=this.applicationStateService.photographySessions.find(l=>l.transliteratedUrl===s),this.cdRef.markForCheck(),setTimeout(()=>{ie("[data-zoomable]")})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)(o.Y36(N.gz),o.Y36(re.V),o.Y36(o.sBO))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-photography-session"]],viewQuery:function(n,s){if(1&n&&o.Gf(B.g,5),2&n){let l;o.iGM(l=o.CRH())&&(s.ngxMasonry=l.first)}},decls:4,vars:2,consts:[["id","main-wrapper",1,"container"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"detail-title"],[1,"mb-4"],[3,"options"],[1,"grid-sizer"],[1,"gutter-sizer"],["ngxMasonryItem","","class","grid-item",4,"ngFor","ngForOf"],[3,"session"],["ngxMasonryItem","",1,"grid-item"],["data-zoomable","","masonryLazy","","loading","lazy",1,"w-full",3,"src"]],template:function(n,s){if(1&n&&(o.TgZ(0,"div",0),o.YNc(1,me,9,4,"ng-container",1),o.YNc(2,le,1,0,"ng-template",null,2,o.W1O),o.qZA()),2&n){const l=o.MAs(3);o.xp6(1),o.Q6J("ngIf",s.session)("ngIfElse",l)}},directives:[I.O5,B.g,I.sg,ae.C,de.J],styles:[".grid-item[_ngcontent-%COMP%]{margin-bottom:10px}.gutter-sizer[_ngcontent-%COMP%]{width:10px}@media screen and (max-width: 599.98px){.grid-sizer[_ngcontent-%COMP%], .grid-item[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 600px){.grid-sizer[_ngcontent-%COMP%], .grid-item[_ngcontent-%COMP%]{width:calc(50% - 10px)}}"],changeDetection:0}),i})()}];let ue=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[N.Bz.forChild(ce)],N.Bz]}),i})();var ge=h(7889),pe=h(3732);let fe=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[I.ez,ue,ge.T,pe.U]]}),i})()}}]);