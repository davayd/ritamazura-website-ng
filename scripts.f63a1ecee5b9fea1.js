(function(u,m,I,v){"use strict";function Y(t,e,i){return setTimeout(Z(t,i),e)}function x(t,e,i){return!!Array.isArray(t)&&(y(t,i[e],i),!0)}function y(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==v)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function U(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var s=new Error("get-stack-trace"),l=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",p=u.console&&(u.console.warn||u.console.log);return p&&p.call(u.console,n,l),t.apply(this,arguments)}}function T(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&X(n,i)}function Z(t,e){return function(){return t.apply(e,arguments)}}function ht(t,e){return typeof t==de?t.apply(e&&e[0]||v,e):t}function lt(t,e){return t===v?e:t}function G(t,e,i){y(J(e),function(n){t.addEventListener(n,i,!1)})}function $(t,e,i){y(J(e),function(n){t.removeEventListener(n,i,!1)})}function ut(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function k(t,e){return t.indexOf(e)>-1}function J(t){return t.trim().split(/\s+/g)}function z(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function H(t){return Array.prototype.slice.call(t,0)}function r(t,e,i){for(var n=[],s=[],l=0;l<t.length;){var p=e?t[l][e]:t[l];z(s,p)<0&&n.push(t[l]),s[l]=p,l++}return i&&(n=e?n.sort(function(d,S){return d[e]>S[e]}):n.sort()),n}function o(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),l=0;l<jt.length;){if((n=(i=jt[l])?i+s:e)in t)return n;l++}return v}function c(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||u}function f(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(n){ht(t.options.enable,[t])&&i.handler(n)},this.init()}function j(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,l=e&E&&n-s==0,p=e&(g|A)&&n-s==0;i.isFirst=!!l,i.isFinal=!!p,l&&(t.session={}),i.eventType=e,function ee(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=Lt(e)),s>1&&!i.firstMultiple?i.firstMultiple=Lt(e):1===s&&(i.firstMultiple=!1);var l=i.firstInput,p=i.firstMultiple,d=p?p.center:l.center,S=e.center=Ot(n);e.timeStamp=_t(),e.deltaTime=e.timeStamp-l.timeStamp,e.angle=At(d,S),e.distance=ct(d,S),function ie(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},l=t.prevInput||{};e.eventType!==E&&l.eventType!==g||(s=t.prevDelta={x:l.deltaX||0,y:l.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=Xt(e.deltaX,e.deltaY);var C=Rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=C.x,e.overallVelocityY=C.y,e.overallVelocity=F(C.x)>F(C.y)?C.x:C.y,e.scale=p?function se(t,e){return ct(e[0],e[1],yt)/ct(t[0],t[1],yt)}(p.pointers,n):1,e.rotation=p?function re(t,e){return At(e[1],e[0],yt)+At(t[1],t[0],yt)}(p.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function ne(t,e){var i,n,s,l,p=t.lastInterval||e,d=e.timeStamp-p.timeStamp;if(e.eventType!=A&&(d>Ie||p.velocity===v)){var S=e.deltaX-p.deltaX,C=e.deltaY-p.deltaY,D=Rt(d,S,C);n=D.x,s=D.y,i=F(D.x)>F(D.y)?D.x:D.y,l=Xt(S,C),t.lastInterval=e}else i=p.velocity,n=p.velocityX,s=p.velocityY,l=p.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=l}(i,e);var D=t.element;ut(e.srcEvent.target,D)&&(D=e.srcEvent.target),e.target=D}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Lt(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:K(t.pointers[i].clientX),clientY:K(t.pointers[i].clientY)},i++;return{timeStamp:_t(),pointers:e,center:Ot(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ot(t){var e=t.length;if(1===e)return{x:K(t[0].clientX),y:K(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:K(i/e),y:K(n/e)}}function Rt(t,e,i){return{x:e/t||0,y:i/t||0}}function Xt(t,e){return t===e?vt:F(t)>=F(e)?0>t?et:it:0>e?nt:rt}function ct(t,e,i){i||(i=Vt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function At(t,e,i){return i||(i=Vt),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function pt(){this.evEl=Ce,this.evWin=be,this.pressed=!1,f.apply(this,arguments)}function It(){this.evEl=Ut,this.evWin=Zt,f.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Wt(){this.evTarget=Ne,this.evWin=_e,this.started=!1,f.apply(this,arguments)}function oe(t,e){var i=H(t.touches),n=H(t.changedTouches);return e&(g|A)&&(i=r(i.concat(n),"identifier",!0)),[i,n]}function ft(){this.evTarget=ke,this.targetIds={},f.apply(this,arguments)}function ae(t,e){var i=H(t.touches),n=this.targetIds;if(e&(E|B)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,l,p=H(t.changedTouches),d=[],S=this.target;if(l=i.filter(function(C){return ut(C.target,S)}),e===E)for(s=0;s<l.length;)n[l[s].identifier]=!0,s++;for(s=0;s<p.length;)n[p[s].identifier]&&d.push(p[s]),e&(g|A)&&delete n[p[s].identifier],s++;return d.length?[r(l.concat(d),"identifier",!0),d]:void 0}function wt(){f.apply(this,arguments);var t=Z(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new pt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function he(t,e){t&E?(this.primaryTouch=e.changedPointers[0].identifier,zt.call(this,e)):t&(g|A)&&zt.call(this,e)}function zt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var l=n.indexOf(i);l>-1&&n.splice(l,1)},Le)}}function le(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],l=Math.abs(e-s.x),p=Math.abs(i-s.y);if(Gt>=l&&Gt>=p)return!0}return!1}function Ct(t,e){this.manager=t,this.set(e)}function O(t){this.options=X({},this.defaults,t||{}),this.id=function a(){return me++}(),this.manager=null,this.options.enable=lt(this.options.enable,!0),this.state=Et,this.simultaneous={},this.requireFail=[]}function Mt(t){return t&at?"cancel":t&M?"end":t&Q?"move":t&b?"start":""}function Yt(t){return t==rt?"down":t==nt?"up":t==et?"left":t==it?"right":""}function dt(t,e){var i=e.manager;return i?i.get(t):t}function P(){O.apply(this,arguments)}function gt(){P.apply(this,arguments),this.pX=null,this.pY=null}function bt(){P.apply(this,arguments)}function Pt(){O.apply(this,arguments),this._timer=null,this._input=null}function St(){P.apply(this,arguments)}function xt(){P.apply(this,arguments)}function mt(){O.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function R(t,e){return(e=e||{}).recognizers=lt(e.recognizers,R.defaults.preset),new Nt(t,e)}function Nt(t,e){this.options=X({},R.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function L(t){return new(t.options.inputClass||(ye?It:Te?ft:Bt?wt:pt))(t,j)}(this),this.touchAction=new Ct(this,this.options.touchAction),Ht(this,!0),y(this.options.recognizers,function(i){var n=this.add(new i[0](i[1]));i[2]&&n.recognizeWith(i[2]),i[3]&&n.requireFailure(i[3])},this)}function Ht(t,e){var n,i=t.element;i.style&&(y(t.options.cssProps,function(s,l){n=o(i.style,l),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}var X,jt=["","webkit","Moz","MS","ms","o"],fe=m.createElement("div"),de="function",K=Math.round,F=Math.abs,_t=Date.now;X="function"!=typeof Object.assign?function(t){if(t===v||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==v&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var Ft=U(function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===v)&&(t[n[s]]=e[n[s]]),s++;return t},"extend","Use `assign`."),ge=U(function(t,e){return Ft(t,e,!0)},"merge","Use `assign`."),me=1,Bt="ontouchstart"in u,ye=o(u,"PointerEvent")!==v,Te=Bt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),tt="touch",Dt="mouse",Ie=25,E=1,B=2,g=4,A=8,vt=1,et=2,it=4,nt=8,rt=16,N=et|it,q=nt|rt,qt=N|q,Vt=["x","y"],yt=["clientX","clientY"];f.prototype={handler:function(){},init:function(){this.evEl&&G(this.element,this.evEl,this.domHandler),this.evTarget&&G(this.target,this.evTarget,this.domHandler),this.evWin&&G(c(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&$(this.element,this.evEl,this.domHandler),this.evTarget&&$(this.target,this.evTarget,this.domHandler),this.evWin&&$(c(this.element),this.evWin,this.domHandler)}};var we={mousedown:E,mousemove:B,mouseup:g},Ce="mousedown",be="mousemove mouseup";T(pt,f,{handler:function(t){var e=we[t.type];e&E&&0===t.button&&(this.pressed=!0),e&B&&1!==t.which&&(e=g),this.pressed&&(e&g&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Dt,srcEvent:t}))}});var Pe={pointerdown:E,pointermove:B,pointerup:g,pointercancel:A,pointerout:A},Se={2:tt,3:"pen",4:Dt,5:"kinect"},Ut="pointerdown",Zt="pointermove pointerup pointercancel";u.MSPointerEvent&&!u.PointerEvent&&(Ut="MSPointerDown",Zt="MSPointerMove MSPointerUp MSPointerCancel"),T(It,f,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Pe[n],l=Se[t.pointerType]||t.pointerType,p=l==tt,d=z(e,t.pointerId,"pointerId");s&E&&(0===t.button||p)?0>d&&(e.push(t),d=e.length-1):s&(g|A)&&(i=!0),0>d||(e[d]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:l,srcEvent:t}),i&&e.splice(d,1))}});var xe={touchstart:E,touchmove:B,touchend:g,touchcancel:A},Ne="touchstart",_e="touchstart touchmove touchend touchcancel";T(Wt,f,{handler:function(t){var e=xe[t.type];if(e===E&&(this.started=!0),this.started){var i=oe.call(this,t,e);e&(g|A)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:tt,srcEvent:t})}}});var De={touchstart:E,touchmove:B,touchend:g,touchcancel:A},ke="touchstart touchmove touchend touchcancel";T(ft,f,{handler:function(t){var e=De[t.type],i=ae.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:tt,srcEvent:t})}});var Le=2500,Gt=25;T(wt,f,{handler:function(t,e,i){var s=i.pointerType==Dt;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType==tt)he.call(this,e,i);else if(s&&le.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Jt=o(fe.style,"touchAction"),Kt=Jt!==v,Qt="compute",kt="manipulation",V="none",st="pan-x",ot="pan-y",Tt=function ce(){if(!Kt)return!1;var t={},e=u.CSS&&u.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||u.CSS.supports("touch-action",i)}),t}();Ct.prototype={set:function(t){t==Qt&&(t=this.compute()),Kt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[Jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(e){ht(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function ue(t){if(k(t,V))return V;var e=k(t,st),i=k(t,ot);return e&&i?V:e||i?e?st:ot:k(t,kt)?kt:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=k(n,V)&&!Tt[V],l=k(n,ot)&&!Tt[ot],p=k(n,st)&&!Tt[st];if(s&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return p&&l?void 0:s||l&&i&N||p&&i&q?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Et=1,b=2,Q=4,M=8,W=M,at=16,_=32;O.prototype={defaults:{},set:function(t){return X(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(x(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=dt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return x(t,"dropRecognizeWith",this)||(t=dt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(x(t,"requireFailure",this))return this;var e=this.requireFail;return-1===z(e,t=dt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(x(t,"dropRequireFailure",this))return this;t=dt(t,this);var e=z(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(s){i.manager.emit(s,t)}var i=this,n=this.state;M>n&&e(i.options.event+Mt(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=M&&e(i.options.event+Mt(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=_)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(_|Et)))return!1;t++}return!0},recognize:function(t){var e=X({},t);return ht(this.options.enable,[this,e])?(this.state&(W|at|_)&&(this.state=Et),this.state=this.process(e),void(this.state&(b|Q|M|at)&&this.tryEmit(e))):(this.reset(),void(this.state=_))},process:function(t){},getTouchAction:function(){},reset:function(){}},T(P,O,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(b|Q),s=this.attrTest(t);return n&&(i&A||!s)?e|at:n||s?i&g?e|M:e&b?e|Q:b:_}}),T(gt,P,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&N&&e.push(ot),t&q&&e.push(st),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,l=t.deltaX,p=t.deltaY;return s&e.direction||(e.direction&N?(s=0===l?vt:0>l?et:it,i=l!=this.pX,n=Math.abs(t.deltaX)):(s=0===p?vt:0>p?nt:rt,i=p!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return P.prototype.attrTest.call(this,t)&&(this.state&b||!(this.state&b)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),T(bt,P,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[V]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&b)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),T(Pt,O,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(g|A)&&!s)this.reset();else if(t.eventType&E)this.reset(),this._timer=Y(function(){this.state=W,this.tryEmit()},e.time,this);else if(t.eventType&g)return W;return _},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===W&&(t&&t.eventType&g?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=_t(),this.manager.emit(this.options.event,this._input)))}}),T(St,P,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[V]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&b)}}),T(xt,P,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:N|q,pointers:1},getTouchAction:function(){return gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(N|q)?e=t.overallVelocity:i&N?e=t.overallVelocityX:i&q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&F(e)>this.options.velocity&&t.eventType&g},emit:function(t){var e=Yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),T(mt,O,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[kt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&E&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=g)return this.failTimeout();var l=!this.pTime||t.timeStamp-this.pTime<e.interval,p=!this.pCenter||ct(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,p&&l?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=Y(function(){this.state=W,this.tryEmit()},e.interval,this),b):W}return _},failTimeout:function(){return this._timer=Y(function(){this.state=_},this.options.interval,this),_},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==W&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),R.VERSION="2.0.7",R.defaults={domEvents:!1,touchAction:Qt,enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[bt,{enable:!1},["rotate"]],[xt,{direction:N}],[gt,{direction:N},["swipe"]],[mt],[mt,{event:"doubletap",taps:2},["tap"]],[Pt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Nt.prototype={set:function(t){return X(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&W)&&(s=e.curRecognizer=null);for(var l=0;l<n.length;)i=n[l],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(b|Q|M)&&(s=e.curRecognizer=i),l++}},get:function(t){if(t instanceof O)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(x(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(x(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=z(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==v&&e!==v){var i=this.handlers;return y(J(t),function(n){i[n]=i[n]||[],i[n].push(e)}),this}},off:function(t,e){if(t!==v){var i=this.handlers;return y(J(t),function(n){e?i[n]&&i[n].splice(z(i[n],e),1):delete i[n]}),this}},emit:function(t,e){this.options.domEvents&&function pe(t,e){var i=m.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&Ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},X(R,{INPUT_START:E,INPUT_MOVE:B,INPUT_END:g,INPUT_CANCEL:A,STATE_POSSIBLE:Et,STATE_BEGAN:b,STATE_CHANGED:Q,STATE_ENDED:M,STATE_RECOGNIZED:W,STATE_CANCELLED:at,STATE_FAILED:_,DIRECTION_NONE:vt,DIRECTION_LEFT:et,DIRECTION_RIGHT:it,DIRECTION_UP:nt,DIRECTION_DOWN:rt,DIRECTION_HORIZONTAL:N,DIRECTION_VERTICAL:q,DIRECTION_ALL:qt,Manager:Nt,Input:f,TouchAction:Ct,TouchInput:ft,MouseInput:pt,PointerEventInput:It,TouchMouseInput:wt,SingleTouchInput:Wt,Recognizer:O,AttrRecognizer:P,Tap:mt,Pan:gt,Swipe:xt,Pinch:bt,Rotate:St,Press:Pt,on:G,off:$,each:y,merge:ge,extend:Ft,assign:X,inherit:T,bindFn:Z,prefixed:o}),(void 0!==u?u:"undefined"!=typeof self?self:{}).Hammer=R,"function"==typeof define&&define.amd?define(function(){return R}):"undefined"!=typeof module&&module.exports?module.exports=R:u.Hammer=R})(window,document),function(u,m){var I={sliders:[],OPTIMIZATION_ACCEPTED:1,OPTIMIZATION_WAS_CONSTRAINED:2};function v(r,o){var a=this;this.image=new Image,this.loaded=!1,this.image.onload=function(){a.loaded=!0,o._onLoaded()},this.image.src=r.src,this.image.alt=r.alt||"",this.label=r.label||!1,this.credit=r.credit||!1}function Y(r){if(r.naturalWidth&&r.naturalHeight)return{width:r.naturalWidth,height:r.naturalHeight};var o=new Image;return o.src=r.src,{width:o.width,height:o.height}}function x(r){return{width:Y(r).width,height:Y(r).height,aspect:function(){return this.width/this.height}}}function y(r,o){r.classList?r.classList.add(o):r.className+=" "+o}function U(r,o){r.className=r.className.replace(/(\S+)\s*/g,function(a,c){return c===o?"":a}).replace(/^\s+/,"")}function Z(r){return m.getComputedStyle?{width:parseInt(getComputedStyle(r).width,10),height:parseInt(getComputedStyle(r).height,10)}:(w=r.getBoundingClientRect().right-r.getBoundingClientRect().left,h=r.getBoundingClientRect().bottom-r.getBoundingClientRect().top,{width:parseInt(w,10)||0,height:parseInt(h,10)||0})}var J={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0};function z(r){return"string"!=typeof r?Boolean(r):!("false"===r||""===r)}function H(r,o,a){var c;for(c in this.selector=r,this.options={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0,startingPosition:"50%",mode:"horizontal",callback:null},this.options)c in a&&(this.options[c]=c in J?z(a[c]):a[c]);2==o.length?(this.imgBefore=new v(o[0],this),this.imgAfter=new v(o[1],this)):console.warn("The images parameter takes two Image objects."),this.options.showCredits=!(!this.imgBefore.credit&&!this.imgAfter.credit)}H.prototype={updateSlider:function(r,o){var a,c;a=(a="vertical"===this.options.mode?function k(r,o){if("string"==typeof o||"number"==typeof o)topPercent=parseInt(o,10);else{var a=r.getBoundingClientRect(),c={top:a.top+u.body.scrollTop+u.documentElement.scrollTop,left:a.left+u.body.scrollLeft+u.documentElement.scrollLeft},f=r.offsetHeight,L=function G(r){return r.pageY?r.pageY:r.touches?r.touches[0].pageY:r.clientY+u.body.scrollTop+u.documentElement.scrollTop}(o);topPercent=(L-c.top)/f*100}return topPercent}(this.slider,r):function ut(r,o){if("string"==typeof o||"number"==typeof o)leftPercent=parseInt(o,10);else{var a=r.getBoundingClientRect(),c={top:a.top+u.body.scrollTop+u.documentElement.scrollTop,left:a.left+u.body.scrollLeft+u.documentElement.scrollLeft},f=r.offsetWidth,L=function lt(r){return r.pageX?r.pageX:r.touches?r.touches[0].pageX:r.clientX+u.body.scrollLeft+u.documentElement.scrollLeft}(o);leftPercent=(L-c.left)/f*100}return leftPercent}(this.slider,r)).toFixed(2)+"%",leftPercentNum=parseFloat(a),c=100-leftPercentNum+"%",leftPercentNum>0&&leftPercentNum<100&&(U(this.handle,"transition"),U(this.rightImage,"transition"),U(this.leftImage,"transition"),this.options.animate&&o&&(y(this.handle,"transition"),y(this.leftImage,"transition"),y(this.rightImage,"transition")),"vertical"===this.options.mode?(this.handle.style.top=a,this.leftImage.style.height=a,this.rightImage.style.height=c):(this.handle.style.left=a,this.leftImage.style.width=a,this.rightImage.style.width=c),this.sliderPosition=a)},getPosition:function(){return this.sliderPosition},displayLabel:function(r,o){label=u.createElement("div"),label.className="jx-label",label.setAttribute("tabindex",0),function T(r,o){u.body.textContent?r.textContent=o:r.innerText=o}(label,o),r.appendChild(label)},setStartingPosition:function(r){this.options.startingPosition=r},checkImages:function(){return x(this.imgBefore.image).aspect()==x(this.imgAfter.image).aspect()},calculateDims:function(r,o){var a=x(this.imgBefore.image).aspect();return r?o=r/a:o&&(r=o*a),{width:r,height:o,ratio:a}},responsivizeIframe:function(r){return r.height<m.innerHeight?r.ratio>=1&&(this.wrapper.style.paddingTop=parseInt((m.innerHeight-r.height)/2)+"px"):r.height>m.innerHeight&&(r=this.calculateDims(0,m.innerHeight),this.wrapper.style.paddingLeft=parseInt((m.innerWidth-r.width)/2)+"px"),this.options.showCredits&&(r.height-=13),r},setWrapperDimensions:function(){var r=Z(this.wrapper).width,o=Z(this.wrapper).height,a=this.calculateDims(r,o);m.location!==m.parent.location&&!this.options.makeResponsive&&(a=this.responsivizeIframe(a)),this.wrapper.style.height=parseInt(a.height)+"px",this.wrapper.style.width=parseInt(a.width)+"px"},optimizeWrapper:function(r){var o=I.OPTIMIZATION_ACCEPTED;return this.imgBefore.image.naturalWidth>=r&&this.imgAfter.image.naturalWidth>=r?(this.wrapper.style.width=r+"px",o=I.OPTIMIZATION_WAS_CONSTRAINED):this.wrapper.style.width=this.imgAfter.image.naturalWidth<r?this.imgAfter.image.naturalWidth+"px":this.imgBefore.image.naturalWidth+"px",this.setWrapperDimensions(),o},_onLoaded:function(){this.imgBefore&&!0===this.imgBefore.loaded&&this.imgAfter&&!0===this.imgAfter.loaded&&(this.wrapper=u.querySelector(this.selector),y(this.wrapper,"juxtapose"),this.wrapper.style.width=Y(this.imgBefore.image).width,this.setWrapperDimensions(),this.slider=u.createElement("div"),this.slider.className="jx-slider",this.wrapper.appendChild(this.slider),"horizontal"!=this.options.mode&&y(this.slider,this.options.mode),this.handle=u.createElement("div"),this.handle.className="jx-handle",this.rightImage=u.createElement("div"),this.rightImage.className="jx-image jx-right",this.rightImage.appendChild(this.imgAfter.image),this.leftImage=u.createElement("div"),this.leftImage.className="jx-image jx-left",this.leftImage.appendChild(this.imgBefore.image),this.slider.appendChild(this.handle),this.slider.appendChild(this.leftImage),this.slider.appendChild(this.rightImage),this.leftArrow=u.createElement("div"),this.rightArrow=u.createElement("div"),this.control=u.createElement("div"),this.controller=u.createElement("div"),this.leftArrow.className="jx-arrow jx-left",this.rightArrow.className="jx-arrow jx-right",this.control.className="jx-control",this.controller.className="jx-controller",this.controller.setAttribute("tabindex",0),this.controller.setAttribute("role","slider"),this.controller.setAttribute("aria-label","Slider that separates before and after photos"),this.controller.setAttribute("aria-valuenow",50),this.controller.setAttribute("aria-valuemin",0),this.controller.setAttribute("aria-valuemax",100),this.handle.appendChild(this.leftArrow),this.handle.appendChild(this.control),this.handle.appendChild(this.rightArrow),this.control.appendChild(this.controller),this._init())},_init:function(){!1===this.checkImages()&&console.warn(this,"Check that the two images have the same aspect ratio for the slider to work correctly."),this.updateSlider(this.options.startingPosition,!1),!0===this.options.showLabels&&(this.imgBefore.label&&this.displayLabel(this.leftImage,this.imgBefore.label),this.imgAfter.label&&this.displayLabel(this.rightImage,this.imgAfter.label));var r=this;new Hammer(this.slider).on("panleft panright",a=>{(a=a.srcEvent||m.event).preventDefault(),r.updateSlider(a,!0),animate=!0}),this.slider.addEventListener("mousedown",function(a){(a=a||m.event).preventDefault(),r.updateSlider(a,!0),animate=!0}),this.handle.addEventListener("keydown",function(a){var c=(a=a||m.event).which||a.keyCode,f=parseFloat(this.style.left);if(37==c){f-=1;var L=parseFloat(this.style.left)-1;r.updateSlider(L,!1),r.controller.setAttribute("aria-valuenow",f)}if(39==c){f+=1;var j=parseFloat(this.style.left)+1;r.updateSlider(j,!1),r.controller.setAttribute("aria-valuenow",f)}}),this.leftImage.addEventListener("keydown",function(a){var c=a.which||a.keyCode;(13==c||32==c)&&(r.updateSlider("90%",!0),r.controller.setAttribute("aria-valuenow",90))}),this.rightImage.addEventListener("keydown",function(a){var c=a.which||a.keyCode;(13==c||32==c)&&(r.updateSlider("10%",!0),r.controller.setAttribute("aria-valuenow",10))}),I.sliders.push(this),this.options.callback&&"function"==typeof this.options.callback&&this.options.callback(this)}},I.makeSlider=function(r,o){void 0===o&&(o=I.sliders.length);var a=r,c=a.querySelectorAll("img"),f={};a.getAttribute("data-animate")&&(f.animate=a.getAttribute("data-animate")),a.getAttribute("data-showlabels")&&(f.showLabels=a.getAttribute("data-showlabels")),a.getAttribute("data-showcredits")&&(f.showCredits=a.getAttribute("data-showcredits")),a.getAttribute("data-startingposition")&&(f.startingPosition=a.getAttribute("data-startingposition")),a.getAttribute("data-mode")&&(f.mode=a.getAttribute("data-mode")),a.getAttribute("data-makeresponsive")&&(f.mode=a.getAttribute("data-makeresponsive")),specificClass="juxtapose-"+o,y(r,specificClass),selector="."+specificClass,a.innerHTML?a.innerHTML="":a.innerText="",slider=new I.JXSlider(selector,[{src:c[0].src,label:c[0].getAttribute("data-label"),credit:c[0].getAttribute("data-credit"),alt:c[0].alt},{src:c[1].src,label:c[1].getAttribute("data-label"),credit:c[1].getAttribute("data-credit"),alt:c[1].alt}],f)},I.scanPage=function(){for(var r=u.querySelectorAll(".juxtapose"),o=0;o<r.length;o++)I.makeSlider(r[o],o)},I.JXSlider=H,m.juxtapose=I,I.scanPage()}(document,window);