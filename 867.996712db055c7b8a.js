(self.webpackChunkritamazura_website_ng=self.webpackChunkritamazura_website_ng||[]).push([[867],{7334:(L,T,I)=>{"use strict";I.d(T,{g:()=>l});var c=I(9808),p=I(1223),E=I(6893);const f=["ngx-masonry",""],d=["*"];let a,l=(()=>{class n{constructor(s,m){this.platformId=s,this._element=m,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new p.vpe,this.removeComplete=new p.vpe,this.itemsLoaded=new p.vpe,this.pendingItems=[]}ngOnInit(){(0,c.NF)(this.platformId)&&void 0===a&&(a=E),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",(0,c.NF)(this.platformId)&&null!=a&&(this.masonryInstance=new a(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",s=>{this.layoutComplete.emit(s)}),this.masonryInstance.on("removeComplete",s=>{this.removeComplete.emit(s)}),this.masonryInstance.items=[])}ngOnChanges(s){s.updateLayout&&(s.updateLayout.firstChange||this.layout())}ngOnDestroy(){this.masonryInstance&&this.masonryInstance.destroy()}layout(){setTimeout(()=>{this.masonryInstance.layout()})}reloadItems(){setTimeout(()=>{this.masonryInstance.reloadItems()})}destroy(){setTimeout(()=>{this.masonryInstance.destroy()})}addPendingItem(s){this.pendingItems.push(s)}add(s){if(this.ordered){for(const[m,_]of this.pendingItems.entries())if(_){if(!_.images||0!==_.images.size)return;this.pendingItems[m]=void 0,this.itemLoaded(_),m+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[])}}else this.itemLoaded(s)}itemLoaded(s){(0,c.NF)(this.platformId)&&(s.prepend?this.masonryInstance.prepended(s.element.nativeElement):this.masonryInstance.appended(s.element.nativeElement),1===this.masonryInstance.items.length&&this.masonryInstance.layout(),s.playAnimation(!0))}remove(s){(0,c.NF)(this.platformId)&&(this.masonryInstance.remove(s),this.layout())}}return n.\u0275fac=function(s){return new(s||n)(p.Y36(p.Lbi),p.Y36(p.SBq))},n.\u0275cmp=p.Xpm({type:n,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{options:"options",updateLayout:"updateLayout",ordered:"ordered"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[p.TTD],attrs:f,ngContentSelectors:d,decls:1,vars:0,template:function(s,m){1&s&&(p.F$t(),p.Hsn(0))},styles:["[_nghost-%COMP%]{display:block}"]}),n})()},1740:(L,T,I)=>{"use strict";I.d(T,{C:()=>v});var c=I(1223),p=I(1777),E=I(7334);let v=(()=>{class f{constructor(a,l,n,r){this.element=a,this.builder=l,this.parent=n,this.renderer=r,this.prepend=!1,this.animations={show:[(0,p.oB)({opacity:0}),(0,p.jt)("400ms ease-in",(0,p.oB)({opacity:1}))],hide:[(0,p.oB)({opacity:"*"}),(0,p.jt)("400ms ease-in",(0,p.oB)({opacity:0}))]}}ngOnInit(){var a;void 0!==(null===(a=this.parent.options)||void 0===a?void 0:a.animations)&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}ngAfterViewInit(){const a=Array.from(this.element.nativeElement.getElementsByTagName("img"));if(this.images=new Set(a),0===a.length)setTimeout(()=>{this.parent.add(this)});else for(const l of a)l.hasAttribute("masonryLazy")?this.imageLoaded(l):(this.renderer.listen(l,"load",n=>{this.imageLoaded(l)}),this.renderer.listen(l,"error",n=>{this.imageLoaded(l)}))}ngOnDestroy(){this.images&&0===this.images.size&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}imageLoaded(a){!a||(this.images.delete(a),0===this.images.size&&this.parent.add(this))}playAnimation(a){const l=a?this.animations.show:this.animations.hide;l&&this.builder.build(l).create(this.element.nativeElement).play()}}return f.\u0275fac=function(a){return new(a||f)(c.Y36(c.SBq),c.Y36(p._j),c.Y36((0,c.Gpc)(()=>E.g)),c.Y36(c.Qsj))},f.\u0275dir=c.lG2({type:f,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),f})()},7889:(L,T,I)=>{"use strict";I.d(T,{T:()=>p});var c=I(1223);let p=(()=>{class E{}return E.\u0275fac=function(f){return new(f||E)},E.\u0275mod=c.oAB({type:E}),E.\u0275inj=c.cJS({imports:[[]]}),E})()},1349:(L,T,I)=>{var c,p;!function(E,v){"use strict";c=function(){var v=function(){var f=window.Element.prototype;if(f.matches)return"matches";if(f.matchesSelector)return"matchesSelector";for(var d=["webkit","moz","ms","o"],a=0;a<d.length;a++){var n=d[a]+"MatchesSelector";if(f[n])return n}}();return function(d,a){return d[v](a)}},void 0!==(p=c.call(T,I,T,L))&&(L.exports=p)}(window)},9665:function(L,T,I){var p;"undefined"!=typeof window&&window,void 0!==(p=function(){"use strict";function E(){}var v=E.prototype;return v.on=function(f,d){if(f&&d){var a=this._events=this._events||{},l=a[f]=a[f]||[];return-1==l.indexOf(d)&&l.push(d),this}},v.once=function(f,d){if(f&&d){this.on(f,d);var a=this._onceEvents=this._onceEvents||{};return(a[f]=a[f]||{})[d]=!0,this}},v.off=function(f,d){var a=this._events&&this._events[f];if(a&&a.length){var l=a.indexOf(d);return-1!=l&&a.splice(l,1),this}},v.emitEvent=function(f,d){var a=this._events&&this._events[f];if(a&&a.length){a=a.slice(0),d=d||[];for(var l=this._onceEvents&&this._onceEvents[f],n=0;n<a.length;n++){var r=a[n];l&&l[r]&&(this.off(f,r),delete l[r]),r.apply(this,d)}return this}},v.allOff=function(){delete this._events,delete this._onceEvents},E}.call(T,I,T,L))&&(L.exports=p)},9777:(L,T,I)=>{var c,p,E;E=window,c=[I(1349)],void 0!==(p=function(f){return function(v,f){"use strict";var d={extend:function(n,r){for(var s in r)n[s]=r[s];return n},modulo:function(n,r){return(n%r+r)%r}},a=Array.prototype.slice;d.makeArray=function(n){return Array.isArray(n)?n:null==n?[]:"object"==typeof n&&"number"==typeof n.length?a.call(n):[n]},d.removeFrom=function(n,r){var s=n.indexOf(r);-1!=s&&n.splice(s,1)},d.getParent=function(n,r){for(;n.parentNode&&n!=document.body;)if(f(n=n.parentNode,r))return n},d.getQueryElement=function(n){return"string"==typeof n?document.querySelector(n):n},d.handleEvent=function(n){var r="on"+n.type;this[r]&&this[r](n)},d.filterFindElements=function(n,r){n=d.makeArray(n);var s=[];return n.forEach(function(m){if(m instanceof HTMLElement){if(!r)return void s.push(m);f(m,r)&&s.push(m);for(var _=m.querySelectorAll(r),h=0;h<_.length;h++)s.push(_[h])}}),s},d.debounceMethod=function(n,r,s){s=s||100;var m=n.prototype[r],_=r+"Timeout";n.prototype[r]=function(){clearTimeout(this[_]);var o=arguments,y=this;this[_]=setTimeout(function(){m.apply(y,o),delete y[_]},s)}},d.docReady=function(n){var r=document.readyState;"complete"==r||"interactive"==r?setTimeout(n):document.addEventListener("DOMContentLoaded",n)},d.toDashed=function(n){return n.replace(/(.)([A-Z])/g,function(r,s,m){return s+"-"+m}).toLowerCase()};var l=v.console;return d.htmlInit=function(n,r){d.docReady(function(){var s=d.toDashed(r),m="data-"+s,_=document.querySelectorAll("["+m+"]"),h=document.querySelectorAll(".js-"+s),o=d.makeArray(_).concat(d.makeArray(h)),y=m+"-options",g=v.jQuery;o.forEach(function(x){var i,t=x.getAttribute(m)||x.getAttribute(y);try{i=t&&JSON.parse(t)}catch(u){return void(l&&l.error("Error parsing "+m+" on "+x.className+": "+u))}var e=new n(x,i);g&&g.data(x,r,e)})})},d}(E,f)}.apply(T,c))&&(L.exports=p)},7390:(L,T,I)=>{var p;window,void 0!==(p=function(){"use strict";function v(o){var y=parseFloat(o);return-1==o.indexOf("%")&&!isNaN(y)&&y}var d="undefined"==typeof console?function f(){}:function(o){console.error(o)},a=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],l=a.length;function r(o){var y=getComputedStyle(o);return y||d("Style returned "+y+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),y}var m,s=!1;function h(o){if(function _(){if(!s){s=!0;var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style.boxSizing="border-box";var y=document.body||document.documentElement;y.appendChild(o);var g=r(o);m=200==Math.round(v(g.width)),h.isBoxSizeOuter=m,y.removeChild(o)}}(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var y=r(o);if("none"==y.display)return function n(){for(var o={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},y=0;y<l;y++)o[a[y]]=0;return o}();var g={};g.width=o.offsetWidth,g.height=o.offsetHeight;for(var x=g.isBorderBox="border-box"==y.boxSizing,t=0;t<l;t++){var i=a[t],u=parseFloat(y[i]);g[i]=isNaN(u)?0:u}var C=g.paddingLeft+g.paddingRight,z=g.paddingTop+g.paddingBottom,W=g.marginLeft+g.marginRight,M=g.marginTop+g.marginBottom,O=g.borderLeftWidth+g.borderRightWidth,A=g.borderTopWidth+g.borderBottomWidth,S=x&&m,D=v(y.width);!1!==D&&(g.width=D+(S?0:C+O));var P=v(y.height);return!1!==P&&(g.height=P+(S?0:z+A)),g.innerWidth=g.width-(C+O),g.innerHeight=g.height-(z+A),g.outerWidth=g.width+W,g.outerHeight=g.height+M,g}}return h}.call(T,I,T,L))&&(L.exports=p)},6893:(L,T,I)=>{var p,E;window,p=[I(1898),I(7390)],void 0!==(E=function(f,d){"use strict";var a=f.create("masonry");a.compatOptions.fitWidth="isFitWidth";var l=a.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var n=0;n<this.cols;n++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var n=this.items[0],r=n&&n.element;this.columnWidth=r&&d(r).outerWidth||this.containerWidth}var s=this.columnWidth+=this.gutter,m=this.containerWidth+this.gutter,_=m/s,h=s-m%s;_=Math[h&&h<1?"round":"floor"](_),this.cols=Math.max(_,1)},l.getContainerWidth=function(){var n=this._getOption("fitWidth"),s=d(n?this.element.parentNode:this.element);this.containerWidth=s&&s.innerWidth},l._getItemLayoutPosition=function(n){n.getSize();var r=n.size.outerWidth%this.columnWidth,m=Math[r&&r<1?"round":"ceil"](n.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);for(var h=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](m,n),o={x:this.columnWidth*h.col,y:h.y},y=h.y+n.size.outerHeight,g=m+h.col,x=h.col;x<g;x++)this.colYs[x]=y;return o},l._getTopColPosition=function(n){var r=this._getTopColGroup(n),s=Math.min.apply(Math,r);return{col:r.indexOf(s),y:s}},l._getTopColGroup=function(n){if(n<2)return this.colYs;for(var r=[],s=this.cols+1-n,m=0;m<s;m++)r[m]=this._getColGroupY(m,n);return r},l._getColGroupY=function(n,r){if(r<2)return this.colYs[n];var s=this.colYs.slice(n,n+r);return Math.max.apply(Math,s)},l._getHorizontalColPosition=function(n,r){var s=this.horizontalColIndex%this.cols;return s=n>1&&s+n>this.cols?0:s,this.horizontalColIndex=r.size.outerWidth&&r.size.outerHeight?s+n:this.horizontalColIndex,{col:s,y:this._getColGroupY(s,n)}},l._manageStamp=function(n){var r=d(n),s=this._getElementOffset(n),_=this._getOption("originLeft")?s.left:s.right,h=_+r.outerWidth,o=Math.floor(_/this.columnWidth);o=Math.max(0,o);var y=Math.floor(h/this.columnWidth);y-=h%this.columnWidth?0:1,y=Math.min(this.cols-1,y);for(var x=(this._getOption("originTop")?s.top:s.bottom)+r.outerHeight,t=o;t<=y;t++)this.colYs[t]=Math.max(x,this.colYs[t])},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var n={height:this.maxY};return this._getOption("fitWidth")&&(n.width=this._getContainerFitWidth()),n},l._getContainerFitWidth=function(){for(var n=0,r=this.cols;--r&&0===this.colYs[r];)n++;return(this.cols-n)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var n=this.containerWidth;return this.getContainerWidth(),n!=this.containerWidth},a}.apply(T,p))&&(L.exports=E)},2544:(L,T,I)=>{var p,E;window,p=[I(9665),I(7390)],void 0!==(E=function(f,d){"use strict";var l=document.documentElement.style,n="string"==typeof l.transition?"transition":"WebkitTransition",r="string"==typeof l.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],m={transform:r,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function _(t,i){!t||(this.element=t,this.layout=i,this.position={x:0,y:0},this._create())}var h=_.prototype=Object.create(f.prototype);h.constructor=_,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(t){var i="on"+t.type;this[i]&&this[i](t)},h.getSize=function(){this.size=d(this.element)},h.css=function(t){var i=this.element.style;for(var e in t)i[m[e]||e]=t[e]},h.getPosition=function(){var t=getComputedStyle(this.element),i=this.layout._getOption("originLeft"),e=this.layout._getOption("originTop"),u=t[i?"left":"right"],C=t[e?"top":"bottom"],z=parseFloat(u),W=parseFloat(C),M=this.layout.size;-1!=u.indexOf("%")&&(z=z/100*M.width),-1!=C.indexOf("%")&&(W=W/100*M.height),z=isNaN(z)?0:z,W=isNaN(W)?0:W,W-=e?M.paddingTop:M.paddingBottom,this.position.x=z-=i?M.paddingLeft:M.paddingRight,this.position.y=W},h.layoutPosition=function(){var t=this.layout.size,i={},e=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop"),W=e?"right":"left";i[e?"left":"right"]=this.getXValue(this.position.x+t[e?"paddingLeft":"paddingRight"]),i[W]="";var S=u?"bottom":"top";i[u?"top":"bottom"]=this.getYValue(this.position.y+t[u?"paddingTop":"paddingBottom"]),i[S]="",this.css(i),this.emitEvent("layout",[this])},h.getXValue=function(t){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!i?t/this.layout.size.width*100+"%":t+"px"},h.getYValue=function(t){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&i?t/this.layout.size.height*100+"%":t+"px"},h._transitionTo=function(t,i){this.getPosition();var e=this.position.x,u=this.position.y,C=t==this.position.x&&i==this.position.y;if(this.setPosition(t,i),!C||this.isTransitioning){var M={};M.transform=this.getTranslate(t-e,i-u),this.transition({to:M,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},h.getTranslate=function(t,i){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(i=this.layout._getOption("originTop")?i:-i)+"px, 0)"},h.goTo=function(t,i){this.setPosition(t,i),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(t,i){this.position.x=parseFloat(t),this.position.y=parseFloat(i)},h._nonTransition=function(t){for(var i in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[i].call(this)},h.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var i=this._transn;for(var e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&this.css(t.from),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var y="opacity,"+function o(t){return t.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}(r);h.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;this.css({transitionProperty:y,transitionDuration:t="number"==typeof t?t+"ms":t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},h.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},h.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform"};h.ontransitionend=function(t){if(t.target===this.element){var i=this._transn,e=g[t.propertyName]||t.propertyName;delete i.ingProperties[e],function a(t){for(var i in t)return!1;return!0}(i.ingProperties)&&this.disableTransition(),e in i.clean&&(this.element.style[t.propertyName]="",delete i.clean[e]),e in i.onEnd&&(i.onEnd[e].call(this),delete i.onEnd[e]),this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},h._removeStyles=function(t){var i={};for(var e in t)i[e]="";this.css(i)};var x={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(x)},h.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:i})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(t){var i=this.layout.options[t];if(i.opacity)return"opacity";for(var e in i)return e},h.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:i})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},_}.apply(T,p))&&(L.exports=E)},1898:(L,T,I)=>{var c,p;!function(E,v){"use strict";c=[I(9665),I(7390),I(9777),I(2544)],p=function(f,d,a,l){return function(v,f,d,a,l){var n=v.console,r=v.jQuery,s=function(){},m=0,_={};function h(t,i){var e=a.getQueryElement(t);if(e){this.element=e,r&&(this.$element=r(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(i);var u=++m;this.element.outlayerGUID=u,_[u]=this,this._create(),this._getOption("initLayout")&&this.layout()}else n&&n.error("Bad element for "+this.constructor.namespace+": "+(e||t))}h.namespace="outlayer",h.Item=l,h.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var o=h.prototype;function y(t){function i(){t.apply(this,arguments)}return(i.prototype=Object.create(t.prototype)).constructor=i,i}a.extend(o,f.prototype),o.option=function(t){a.extend(this.options,t)},o._getOption=function(t){var i=this.constructor.compatOptions[t];return i&&void 0!==this.options[i]?this.options[i]:this.options[t]},h.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},o._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),a.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},o.reloadItems=function(){this.items=this._itemize(this.element.children)},o._itemize=function(t){for(var i=this._filterFindItemElements(t),e=this.constructor.Item,u=[],C=0;C<i.length;C++){var W=new e(i[C],this);u.push(W)}return u},o._filterFindItemElements=function(t){return a.filterFindElements(t,this.options.itemSelector)},o.getItemElements=function(){return this.items.map(function(t){return t.element})},o.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==t?t:!this._isLayoutInited),this._isLayoutInited=!0},o._init=o.layout,o._resetLayout=function(){this.getSize()},o.getSize=function(){this.size=d(this.element)},o._getMeasurement=function(t,i){var u,e=this.options[t];e?("string"==typeof e?u=this.element.querySelector(e):e instanceof HTMLElement&&(u=e),this[t]=u?d(u)[i]:e):this[t]=0},o.layoutItems=function(t,i){t=this._getItemsForLayout(t),this._layoutItems(t,i),this._postLayout()},o._getItemsForLayout=function(t){return t.filter(function(i){return!i.isIgnored})},o._layoutItems=function(t,i){if(this._emitCompleteOnItems("layout",t),t&&t.length){var e=[];t.forEach(function(u){var C=this._getItemLayoutPosition(u);C.item=u,C.isInstant=i||u.isLayoutInstant,e.push(C)},this),this._processLayoutQueue(e)}},o._getItemLayoutPosition=function(){return{x:0,y:0}},o._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(i,e){this._positionItem(i.item,i.x,i.y,i.isInstant,e)},this)},o.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function x(t){if("number"==typeof t)return t;var i=t.match(/(^\d*\.?\d*)(\w*)/),e=i&&i[1],u=i&&i[2];return e.length?(e=parseFloat(e))*(g[u]||1):0}(t),this.stagger;this.stagger=0},o._positionItem=function(t,i,e,u,C){u?t.goTo(i,e):(t.stagger(C*this.stagger),t.moveTo(i,e))},o._postLayout=function(){this.resizeContainer()},o.resizeContainer=function(){if(this._getOption("resizeContainer")){var i=this._getContainerSize();i&&(this._setContainerMeasure(i.width,!0),this._setContainerMeasure(i.height,!1))}},o._getContainerSize=s,o._setContainerMeasure=function(t,i){if(void 0!==t){var e=this.size;e.isBorderBox&&(t+=i?e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth:e.paddingBottom+e.paddingTop+e.borderTopWidth+e.borderBottomWidth),t=Math.max(t,0),this.element.style[i?"width":"height"]=t+"px"}},o._emitCompleteOnItems=function(t,i){var e=this;function u(){e.dispatchEvent(t+"Complete",null,[i])}var C=i.length;if(i&&C){var z=0;i.forEach(function(M){M.once(t,W)})}else u();function W(){++z==C&&u()}},o.dispatchEvent=function(t,i,e){var u=i?[i].concat(e):e;if(this.emitEvent(t,u),r)if(this.$element=this.$element||r(this.element),i){var C=r.Event(i);C.type=t,this.$element.trigger(C,e)}else this.$element.trigger(t,e)},o.ignore=function(t){var i=this.getItem(t);i&&(i.isIgnored=!0)},o.unignore=function(t){var i=this.getItem(t);i&&delete i.isIgnored},o.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},o.unstamp=function(t){(t=this._find(t))&&t.forEach(function(i){a.removeFrom(this.stamps,i),this.unignore(i)},this)},o._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),a.makeArray(t)},o._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},o._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),i=this.size;this._boundingRect={left:t.left+i.paddingLeft+i.borderLeftWidth,top:t.top+i.paddingTop+i.borderTopWidth,right:t.right-(i.paddingRight+i.borderRightWidth),bottom:t.bottom-(i.paddingBottom+i.borderBottomWidth)}},o._manageStamp=s,o._getElementOffset=function(t){var i=t.getBoundingClientRect(),e=this._boundingRect,u=d(t);return{left:i.left-e.left-u.marginLeft,top:i.top-e.top-u.marginTop,right:e.right-i.right-u.marginRight,bottom:e.bottom-i.bottom-u.marginBottom}},o.handleEvent=a.handleEvent,o.bindResize=function(){v.addEventListener("resize",this),this.isResizeBound=!0},o.unbindResize=function(){v.removeEventListener("resize",this),this.isResizeBound=!1},o.onresize=function(){this.resize()},a.debounceMethod(h,"onresize",100),o.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},o.needsResizeLayout=function(){var t=d(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},o.addItems=function(t){var i=this._itemize(t);return i.length&&(this.items=this.items.concat(i)),i},o.appended=function(t){var i=this.addItems(t);!i.length||(this.layoutItems(i,!0),this.reveal(i))},o.prepended=function(t){var i=this._itemize(t);if(i.length){var e=this.items.slice(0);this.items=i.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(i,!0),this.reveal(i),this.layoutItems(e)}},o.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var i=this.updateStagger();t.forEach(function(e,u){e.stagger(u*i),e.reveal()})}},o.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var i=this.updateStagger();t.forEach(function(e,u){e.stagger(u*i),e.hide()})}},o.revealItemElements=function(t){var i=this.getItems(t);this.reveal(i)},o.hideItemElements=function(t){var i=this.getItems(t);this.hide(i)},o.getItem=function(t){for(var i=0;i<this.items.length;i++){var e=this.items[i];if(e.element==t)return e}},o.getItems=function(t){t=a.makeArray(t);var i=[];return t.forEach(function(e){var u=this.getItem(e);u&&i.push(u)},this),i},o.remove=function(t){var i=this.getItems(t);this._emitCompleteOnItems("remove",i),i&&i.length&&i.forEach(function(e){e.remove(),a.removeFrom(this.items,e)},this)},o.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize(),delete _[this.element.outlayerGUID],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},h.data=function(t){var i=(t=a.getQueryElement(t))&&t.outlayerGUID;return i&&_[i]},h.create=function(t,i){var e=y(h);return e.defaults=a.extend({},h.defaults),a.extend(e.defaults,i),e.compatOptions=a.extend({},h.compatOptions),e.namespace=t,e.data=h.data,e.Item=y(l),a.htmlInit(e,t),r&&r.bridget&&r.bridget(t,e),e};var g={ms:1,s:1e3};return h.Item=l,h}(E,f,d,a,l)}.apply(T,c),void 0!==p&&(L.exports=p)}(window)}}]);