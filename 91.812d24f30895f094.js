"use strict";(self.webpackChunkritamazura_website_ng=self.webpackChunkritamazura_website_ng||[]).push([[91],{2091:(T,h,i)=>{i.r(h),i.d(h,{RetouchSessionModule:()=>p});var u=i(6895),l=i(8778),g=i(7579),m=i(2722),t=i(8256),f=i(874),d=i(7117);class a{transform(n){if(!n)return"";const o=new RegExp("^[0-9]{1,2}(?:(?:.[0-9]{1,2})?)\\s([\u0430-\u044f\u0410-\u042fa-zA-Z\\s_?]*)(?:-(?:desktop|mobile).webp)$","i").exec(n);return o?o[1]:n}static#t=this.\u0275fac=function(e){return new(e||a)};static#e=this.\u0275pipe=t.Yjl({name:"photoAuthor",type:a,pure:!0})}function x(s,n){1&s&&(t.TgZ(0,"h3",8),t._uU(1,' \u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0441 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u0443\u0440\u0441\u0430 \u043f\u043e \u0440\u0435\u0442\u0443\u0448\u0438 \u043e\u0442 \u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u0438 \u0412\u043e\u0440\u043e\u043d\u0446\u043e\u0432\u043e\u0439 "\u0420\u0435\u0442\u0430\u0447\u0443\u0445\u0435\u0440\u0430\u0447\u0443" '),t.qZA())}function S(s,n){if(1&s&&(t.TgZ(0,"figcaption",13)(1,"span",14),t._uU(2,"Ph."),t.qZA(),t.TgZ(3,"span",15),t._uU(4),t.ALo(5,"photoAuthor"),t.qZA()()),2&s){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(t.lcZ(5,1,e[0].label))}}const y=function(s){return{width:s}};function Z(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"figure")(2,"div",9),t._UZ(3,"img",10)(4,"img",11),t.qZA(),t.YNc(5,S,6,3,"figcaption",12),t.qZA(),t.BQk()),2&s){const e=n.$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngStyle",t.VKq(6,y,o.innerWidth+"px")),t.xp6(1),t.Q6J("src",e[1].url,t.LSH),t.uIk("alt",e[1].label),t.xp6(1),t.Q6J("src",e[0].url,t.LSH),t.uIk("alt",e[0].label),t.xp6(1),t.Q6J("ngIf",!o.isCourseFolder)}}function E(s,n){if(1&s&&(t.ynx(0),t.TgZ(1,"h2",3),t._uU(2),t.qZA(),t.YNc(3,x,2,0,"h3",4),t.TgZ(4,"div",5),t.YNc(5,Z,6,8,"ng-container",6),t.qZA(),t._UZ(6,"app-paginator",7),t.BQk()),2&s){const e=t.oxw();t.xp6(2),t.hij(" ",e.session.title," "),t.xp6(1),t.Q6J("ngIf",e.isCourseFolder),t.xp6(2),t.Q6J("ngForOf",e.session.beforeAterterPhotos),t.xp6(1),t.Q6J("session",e.session)}}function A(s,n){1&s&&t._uU(0," Not found ")}class c{constructor(n,e){this.activateRoute=n,this.applicationStateService=e,this.mainWrapper=null,this.innerWidth=0,this.isCourseFolder=!1,this.destroy$=new g.x}ngOnInit(){this.mainWrapper=document.getElementById("main-wrapper"),this.mainWrapper&&(this.innerWidth=this.mainWrapper.clientWidth-2*parseInt(getComputedStyle(this.mainWrapper).paddingLeft)),this.activateRoute.paramMap.pipe((0,m.R)(this.destroy$)).subscribe(n=>{const e=n.get("id");this.session=this.applicationStateService.retouchSessions.find(o=>o.transliteratedUrl===e),setTimeout(()=>{juxtapose.scanPage()}),this.isCourseFolder="course"===this.activateRoute.snapshot.params.id||!1})}ngOnDestroy(){this.destroy$.next(),this.destroy$.unsubscribe()}onSwipeLeft(n){console.log(n)}onSwipeRight(n){console.log(n)}static#t=this.\u0275fac=function(e){return new(e||c)(t.Y36(l.gz),t.Y36(f.V))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-retouch-session"]],decls:4,vars:2,consts:[["id","main-wrapper",1,"container"],[4,"ngIf","ngIfElse"],["notFound",""],[1,"detail-title"],["class","text-center mb-6 text-xs",4,"ngIf"],[1,"flex","flex-col","gap-4","mb-4"],[4,"ngFor","ngForOf"],[3,"session"],[1,"text-center","mb-6","text-xs"],[1,"juxtapose","m-auto",3,"ngStyle"],["loading","lazy","data-label","before",3,"src"],["loading","lazy","data-label","after",3,"src"],["class","text-[10px] text-center text-slate-600 mt-1",4,"ngIf"],[1,"text-[10px]","text-center","text-slate-600","mt-1"],[1,"normal-case","tracking-tight","mr-1"],[1,"normal-case"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,E,7,4,"ng-container",1),t.YNc(2,A,1,0,"ng-template",null,2,t.W1O),t.qZA()),2&e){const F=t.MAs(3);t.xp6(1),t.Q6J("ngIf",o.session)("ngIfElse",F)}},dependencies:[u.sg,u.O5,u.PC,d.J,a],changeDetection:0})}const v=[{path:"",component:c}];class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#n=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(v),l.Bz]})}var C=i(3732);class p{static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275mod=t.oAB({type:p});static#n=this.\u0275inj=t.cJS({imports:[u.ez,r,C.U]})}}}]);