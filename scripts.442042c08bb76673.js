!function(c,d){"object"==typeof exports&&typeof module<"u"?d(exports):"function"==typeof define&&define.amd?define(["exports"],d):d((c=typeof globalThis<"u"?globalThis:c||self).throttleDebounce={})}(this,function(c){"use strict";function d(g,L,b){var _,v=b||{},x=v.noTrailing,y=void 0!==x&&x,j=v.noLeading,Z=void 0!==j&&j,G=v.debounceMode,D=void 0===G?void 0:G,$=!1,P=0;function H(){_&&clearTimeout(_)}function M(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var l=this,f=Date.now()-P;function E(){P=Date.now(),L.apply(l,o)}function X(){_=void 0}$||(!Z&&D&&!_&&E(),H(),void 0===D&&f>g?Z?(P=Date.now(),y||(_=setTimeout(D?X:E,g))):E():!0!==y&&(_=setTimeout(D?X:E,void 0===D?g-f:g)))}return M.cancel=function k(r){var a=(r||{}).upcomingOnly,l=void 0!==a&&a;H(),$=!l},M}c.debounce=function A(g,L,b){var x=(b||{}).atBegin;return d(g,L,{debounceMode:!1!==(void 0!==x&&x)})},c.throttle=d,Object.defineProperty(c,"__esModule",{value:!0})}),function(c,d,A,g){"use strict";function L(t,e,i){return setTimeout(j(t,i),e)}function b(t,e,i){return!!Array.isArray(t)&&(v(t,i[e],i),!0)}function v(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==g)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function x(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var s=new Error("get-stack-trace"),u=s&&s.stack?s.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",p=c.console&&(c.console.warn||c.console.log);return p&&p.call(c.console,n,u),t.apply(this,arguments)}}function y(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&q(n,i)}function j(t,e){return function(){return t.apply(e,arguments)}}function Z(t,e){return typeof t==de?t.apply(e&&e[0]||g,e):t}function G(t,e){return t===g?e:t}function D(t,e,i){v(H(e),function(n){t.addEventListener(n,i,!1)})}function _(t,e,i){v(H(e),function(n){t.removeEventListener(n,i,!1)})}function $(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function H(t){return t.trim().split(/\s+/g)}function k(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function M(t){return Array.prototype.slice.call(t,0)}function r(t,e,i){for(var n=[],s=[],u=0;u<t.length;){var p=e?t[u][e]:t[u];k(s,p)<0&&n.push(t[u]),s[u]=p,u++}return i&&(n=e?n.sort(function(m,R){return m[e]>R[e]}):n.sort()),n}function o(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),u=0;u<Bt.length;){if((n=(i=Bt[u])?i+s:e)in t)return n;u++}return g}function l(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||c}function f(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(n){Z(t.options.enable,[t])&&i.handler(n)},this.init()}function X(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,u=e&I&&n-s==0,p=e&(T|C)&&n-s==0;i.isFirst=!!u,i.isFinal=!!p,u&&(t.session={}),i.eventType=e,function At(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=Rt(e)),s>1&&!i.firstMultiple?i.firstMultiple=Rt(e):1===s&&(i.firstMultiple=!1);var u=i.firstInput,p=i.firstMultiple,m=p?p.center:u.center,R=e.center=kt(n);e.timeStamp=Nt(),e.deltaTime=e.timeStamp-u.timeStamp,e.angle=wt(m,R),e.distance=ct(m,R),function ie(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},u=t.prevInput||{};e.eventType!==I&&u.eventType!==T||(s=t.prevDelta={x:u.deltaX||0,y:u.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=Xt(e.deltaX,e.deltaY);var S=Mt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=S.x,e.overallVelocityY=S.y,e.overallVelocity=J(S.x)>J(S.y)?S.x:S.y,e.scale=p?function se(t,e){return ct(e[0],e[1],yt)/ct(t[0],t[1],yt)}(p.pointers,n):1,e.rotation=p?function re(t,e){return wt(e[1],e[0],yt)+wt(t[1],t[0],yt)}(p.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function ne(t,e){var i,n,s,u,p=t.lastInterval||e,m=e.timeStamp-p.timeStamp;if(e.eventType!=C&&(m>we||p.velocity===g)){var R=e.deltaX-p.deltaX,S=e.deltaY-p.deltaY,Y=Mt(m,R,S);n=Y.x,s=Y.y,i=J(Y.x)>J(Y.y)?Y.x:Y.y,u=Xt(R,S),t.lastInterval=e}else i=p.velocity,n=p.velocityX,s=p.velocityY,u=p.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=u}(i,e);var Y=t.element;$(e.srcEvent.target,Y)&&(Y=e.srcEvent.target),e.target=Y}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Rt(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:et(t.pointers[i].clientX),clientY:et(t.pointers[i].clientY)},i++;return{timeStamp:Nt(),pointers:e,center:kt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function kt(t){var e=t.length;if(1===e)return{x:et(t[0].clientX),y:et(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:et(i/e),y:et(n/e)}}function Mt(t,e,i){return{x:e/t||0,y:i/t||0}}function Xt(t,e){return t===e?mt:J(t)>=J(e)?0>t?rt:st:0>e?ot:at}function ct(t,e,i){i||(i=Ut);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function wt(t,e,i){return i||(i=Ut),180*Math.atan2(e[i[1]]-t[i[1]],e[i[0]]-t[i[0]])/Math.PI}function pt(){this.evEl=be,this.evWin=Ce,this.pressed=!1,f.apply(this,arguments)}function It(){this.evEl=Zt,this.evWin=Gt,f.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Wt(){this.evTarget=De,this.evWin=_e,this.started=!1,f.apply(this,arguments)}function oe(t,e){var i=M(t.touches),n=M(t.changedTouches);return e&(T|C)&&(i=r(i.concat(n),"identifier",!0)),[i,n]}function ft(){this.evTarget=Le,this.targetIds={},f.apply(this,arguments)}function ae(t,e){var i=M(t.touches),n=this.targetIds;if(e&(I|K)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,u,p=M(t.changedTouches),m=[],R=this.target;if(u=i.filter(function(S){return $(S.target,R)}),e===I)for(s=0;s<u.length;)n[u[s].identifier]=!0,s++;for(s=0;s<p.length;)n[p[s].identifier]&&m.push(p[s]),e&(T|C)&&delete n[p[s].identifier],s++;return m.length?[r(u.concat(m),"identifier",!0),m]:void 0}function bt(){f.apply(this,arguments);var t=j(this.handler,this);this.touch=new ft(this.manager,t),this.mouse=new pt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function he(t,e){t&I?(this.primaryTouch=e.changedPointers[0].identifier,zt.call(this,e)):t&(T|C)&&zt.call(this,e)}function zt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var u=n.indexOf(i);u>-1&&n.splice(u,1)},Oe)}}function le(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],u=Math.abs(e-s.x),p=Math.abs(i-s.y);if($t>=u&&$t>=p)return!0}return!1}function Ct(t,e){this.manager=t,this.set(e)}function B(t){this.options=q({},this.defaults,t||{}),this.id=function a(){return ve++}(),this.manager=null,this.options.enable=G(this.options.enable,!0),this.state=Et,this.simultaneous={},this.requireFail=[]}function Yt(t){return t&ut?"cancel":t&U?"end":t&it?"move":t&N?"start":""}function jt(t){return t==at?"down":t==ot?"up":t==rt?"left":t==st?"right":""}function dt(t,e){var i=e.manager;return i?i.get(t):t}function O(){B.apply(this,arguments)}function gt(){O.apply(this,arguments),this.pX=null,this.pY=null}function Pt(){O.apply(this,arguments)}function St(){B.apply(this,arguments),this._timer=null,this._input=null}function xt(){O.apply(this,arguments)}function Dt(){O.apply(this,arguments)}function vt(){B.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function F(t,e){return(e=e||{}).recognizers=G(e.recognizers,F.defaults.preset),new _t(t,e)}function _t(t,e){this.options=q({},F.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=function E(t){return new(t.options.inputClass||(ye?It:Te?ft:qt?bt:pt))(t,X)}(this),this.touchAction=new Ct(this,this.options.touchAction),Ht(this,!0),v(this.options.recognizers,function(i){var n=this.add(new i[0](i[1]));i[2]&&n.recognizeWith(i[2]),i[3]&&n.requireFailure(i[3])},this)}function Ht(t,e){var n,i=t.element;i.style&&(v(t.options.cssProps,function(s,u){n=o(i.style,u),e?(t.oldCssProps[n]=i.style[n],i.style[n]=s):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}var q,Bt=["","webkit","Moz","MS","ms","o"],fe=d.createElement("div"),de="function",et=Math.round,J=Math.abs,Nt=Date.now;q="function"!=typeof Object.assign?function(t){if(t===g||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==g&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var Ft=x(function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&t[n[s]]===g)&&(t[n[s]]=e[n[s]]),s++;return t},"extend","Use `assign`."),ge=x(function(t,e){return Ft(t,e,!0)},"merge","Use `assign`."),ve=1,qt="ontouchstart"in c,ye=o(c,"PointerEvent")!==g,Te=qt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),nt="touch",Lt="mouse",we=25,I=1,K=2,T=4,C=8,mt=1,rt=2,st=4,ot=8,at=16,W=rt|st,Q=ot|at,Vt=W|Q,Ut=["x","y"],yt=["clientX","clientY"];f.prototype={handler:function(){},init:function(){this.evEl&&D(this.element,this.evEl,this.domHandler),this.evTarget&&D(this.target,this.evTarget,this.domHandler),this.evWin&&D(l(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(l(this.element),this.evWin,this.domHandler)}};var Ie={mousedown:I,mousemove:K,mouseup:T},be="mousedown",Ce="mousemove mouseup";y(pt,f,{handler:function(t){var e=Ie[t.type];e&I&&0===t.button&&(this.pressed=!0),e&K&&1!==t.which&&(e=T),this.pressed&&(e&T&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Lt,srcEvent:t}))}});var Pe={pointerdown:I,pointermove:K,pointerup:T,pointercancel:C,pointerout:C},Se={2:nt,3:"pen",4:Lt,5:"kinect"},Zt="pointerdown",Gt="pointermove pointerup pointercancel";c.MSPointerEvent&&!c.PointerEvent&&(Zt="MSPointerDown",Gt="MSPointerMove MSPointerUp MSPointerCancel"),y(It,f,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=Pe[n],u=Se[t.pointerType]||t.pointerType,p=u==nt,m=k(e,t.pointerId,"pointerId");s&I&&(0===t.button||p)?0>m&&(e.push(t),m=e.length-1):s&(T|C)&&(i=!0),0>m||(e[m]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:u,srcEvent:t}),i&&e.splice(m,1))}});var xe={touchstart:I,touchmove:K,touchend:T,touchcancel:C},De="touchstart",_e="touchstart touchmove touchend touchcancel";y(Wt,f,{handler:function(t){var e=xe[t.type];if(e===I&&(this.started=!0),this.started){var i=oe.call(this,t,e);e&(T|C)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:nt,srcEvent:t})}}});var Ne={touchstart:I,touchmove:K,touchend:T,touchcancel:C},Le="touchstart touchmove touchend touchcancel";y(ft,f,{handler:function(t){var e=Ne[t.type],i=ae.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:nt,srcEvent:t})}});var Oe=2500,$t=25;y(bt,f,{handler:function(t,e,i){var s=i.pointerType==Lt;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(i.pointerType==nt)he.call(this,e,i);else if(s&&le.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Jt=o(fe.style,"touchAction"),Kt=Jt!==g,Qt="compute",Ot="manipulation",tt="none",ht="pan-x",lt="pan-y",Tt=function ce(){if(!Kt)return!1;var t={},e=c.CSS&&c.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=!e||c.CSS.supports("touch-action",i)}),t}();Ct.prototype={set:function(t){t==Qt&&(t=this.compute()),Kt&&this.manager.element.style&&Tt[t]&&(this.manager.element.style[Jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,function(e){Z(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function ue(t){if(P(t,tt))return tt;var e=P(t,ht),i=P(t,lt);return e&&i?tt:e||i?e?ht:lt:P(t,Ot)?Ot:"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=P(n,tt)&&!Tt[tt],u=P(n,lt)&&!Tt[lt],p=P(n,ht)&&!Tt[ht];if(s&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;return p&&u?void 0:s||u&&i&W||p&&i&Q?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var Et=1,N=2,it=4,U=8,V=U,ut=16,z=32;B.prototype={defaults:{},set:function(t){return q(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(b(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=dt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return b(t,"dropRecognizeWith",this)||(t=dt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(b(t,"requireFailure",this))return this;var e=this.requireFail;return-1===k(e,t=dt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(b(t,"dropRequireFailure",this))return this;t=dt(t,this);var e=k(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(s){i.manager.emit(s,t)}var i=this,n=this.state;U>n&&e(i.options.event+Yt(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=U&&e(i.options.event+Yt(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=z)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(z|Et)))return!1;t++}return!0},recognize:function(t){var e=q({},t);return Z(this.options.enable,[this,e])?(this.state&(V|ut|z)&&(this.state=Et),this.state=this.process(e),void(this.state&(N|it|U|ut)&&this.tryEmit(e))):(this.reset(),void(this.state=z))},process:function(t){},getTouchAction:function(){},reset:function(){}},y(O,B,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(N|it),s=this.attrTest(t);return n&&(i&C||!s)?e|ut:n||s?i&T?e|U:e&N?e|it:N:z}}),y(gt,O,{defaults:{event:"pan",threshold:10,pointers:1,direction:Vt},getTouchAction:function(){var t=this.options.direction,e=[];return t&W&&e.push(lt),t&Q&&e.push(ht),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,u=t.deltaX,p=t.deltaY;return s&e.direction||(e.direction&W?(s=0===u?mt:0>u?rt:st,i=u!=this.pX,n=Math.abs(t.deltaX)):(s=0===p?mt:0>p?ot:at,i=p!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return O.prototype.attrTest.call(this,t)&&(this.state&N||!(this.state&N)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=jt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),y(Pt,O,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&N)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),y(St,B,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(T|C)&&!s)this.reset();else if(t.eventType&I)this.reset(),this._timer=L(function(){this.state=V,this.tryEmit()},e.time,this);else if(t.eventType&T)return V;return z},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===V&&(t&&t.eventType&T?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Nt(),this.manager.emit(this.options.event,this._input)))}}),y(xt,O,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tt]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&N)}}),y(Dt,O,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:W|Q,pointers:1},getTouchAction:function(){return gt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(W|Q)?e=t.overallVelocity:i&W?e=t.overallVelocityX:i&Q&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&J(e)>this.options.velocity&&t.eventType&T},emit:function(t){var e=jt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),y(vt,B,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ot]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&I&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=T)return this.failTimeout();var u=!this.pTime||t.timeStamp-this.pTime<e.interval,p=!this.pCenter||ct(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,p&&u?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=L(function(){this.state=V,this.tryEmit()},e.interval,this),N):V}return z},failTimeout:function(){return this._timer=L(function(){this.state=z},this.options.interval,this),z},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==V&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),F.VERSION="2.0.7",F.defaults={domEvents:!1,touchAction:Qt,enable:!0,inputTarget:null,inputClass:null,preset:[[xt,{enable:!1}],[Pt,{enable:!1},["rotate"]],[Dt,{direction:W}],[gt,{direction:W},["swipe"]],[vt],[vt,{event:"doubletap",taps:2},["tap"]],[St]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_t.prototype={set:function(t){return q(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&V)&&(s=e.curRecognizer=null);for(var u=0;u<n.length;)i=n[u],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(N|it|U)&&(s=e.curRecognizer=i),u++}},get:function(t){if(t instanceof B)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(b(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(b(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=k(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==g&&e!==g){var i=this.handlers;return v(H(t),function(n){i[n]=i[n]||[],i[n].push(e)}),this}},off:function(t,e){if(t!==g){var i=this.handlers;return v(H(t),function(n){e?i[n]&&i[n].splice(k(i[n],e),1):delete i[n]}),this}},emit:function(t,e){this.options.domEvents&&function pe(t,e){var i=d.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&Ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},q(F,{INPUT_START:I,INPUT_MOVE:K,INPUT_END:T,INPUT_CANCEL:C,STATE_POSSIBLE:Et,STATE_BEGAN:N,STATE_CHANGED:it,STATE_ENDED:U,STATE_RECOGNIZED:V,STATE_CANCELLED:ut,STATE_FAILED:z,DIRECTION_NONE:mt,DIRECTION_LEFT:rt,DIRECTION_RIGHT:st,DIRECTION_UP:ot,DIRECTION_DOWN:at,DIRECTION_HORIZONTAL:W,DIRECTION_VERTICAL:Q,DIRECTION_ALL:Vt,Manager:_t,Input:f,TouchAction:Ct,TouchInput:ft,MouseInput:pt,PointerEventInput:It,TouchMouseInput:bt,SingleTouchInput:Wt,Recognizer:B,AttrRecognizer:O,Tap:vt,Pan:gt,Swipe:Dt,Pinch:Pt,Rotate:xt,Press:St,on:D,off:_,each:v,merge:ge,extend:Ft,assign:q,inherit:y,bindFn:j,prefixed:o}),(typeof c<"u"?c:typeof self<"u"?self:{}).Hammer=F,"function"==typeof define&&define.amd?define(function(){return F}):typeof module<"u"&&module.exports?module.exports=F:c.Hammer=F}(window,document),function(c,d){var A={sliders:[],OPTIMIZATION_ACCEPTED:1,OPTIMIZATION_WAS_CONSTRAINED:2};function g(r,o){var a=this;this.image=new Image,this.loaded=!1,this.image.onload=function(){a.loaded=!0,o._onLoaded()},this.image.src=r.src,this.image.alt=r.alt||"",this.label=r.label||!1,this.credit=r.credit||!1}function L(r){if(r.naturalWidth&&r.naturalHeight)return{width:r.naturalWidth,height:r.naturalHeight};var o=new Image;return o.src=r.src,{width:o.width,height:o.height}}function b(r){return{width:L(r).width,height:L(r).height,aspect:function(){return this.width/this.height}}}function v(r,o){r.classList?r.classList.add(o):r.className+=" "+o}function x(r,o){r.className=r.className.replace(/(\S+)\s*/g,function(a,l){return l===o?"":a}).replace(/^\s+/,"")}function j(r){return d.getComputedStyle?{width:parseInt(getComputedStyle(r).width,10),height:parseInt(getComputedStyle(r).height,10)}:(w=r.getBoundingClientRect().right-r.getBoundingClientRect().left,h=r.getBoundingClientRect().bottom-r.getBoundingClientRect().top,{width:parseInt(w,10)||0,height:parseInt(h,10)||0})}var H={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0};function k(r){return"string"!=typeof r?Boolean(r):!("false"===r||""===r)}function M(r,o,a){var l;for(l in this.selector=r,this.options={animate:!0,showLabels:!0,showCredits:!0,makeResponsive:!0,startingPosition:"50%",mode:"horizontal",callback:null},this.options)l in a&&(this.options[l]=l in H?k(a[l]):a[l]);2==o.length?(this.imgBefore=new g(o[0],this),this.imgAfter=new g(o[1],this)):console.warn("The images parameter takes two Image objects."),this.options.showCredits=!(!this.imgBefore.credit&&!this.imgAfter.credit)}M.prototype={updateSlider:function(r,o){var a,l;a=(a="vertical"===this.options.mode?function P(r,o){if("string"==typeof o||"number"==typeof o)topPercent=parseInt(o,10);else{var a=r.getBoundingClientRect(),l={top:a.top+c.body.scrollTop+c.documentElement.scrollTop,left:a.left+c.body.scrollLeft+c.documentElement.scrollLeft},f=r.offsetHeight,E=function D(r){return r.pageY?r.pageY:r.touches?r.touches[0].pageY:r.clientY+c.body.scrollTop+c.documentElement.scrollTop}(o);topPercent=(E-l.top)/f*100}return topPercent}(this.slider,r):function $(r,o){if("string"==typeof o||"number"==typeof o)leftPercent=parseInt(o,10);else{var a=r.getBoundingClientRect(),l={top:a.top+c.body.scrollTop+c.documentElement.scrollTop,left:a.left+c.body.scrollLeft+c.documentElement.scrollLeft},f=r.offsetWidth,E=function G(r){return r.pageX?r.pageX:r.touches?r.touches[0].pageX:r.clientX+c.body.scrollLeft+c.documentElement.scrollLeft}(o);leftPercent=(E-l.left)/f*100}return leftPercent}(this.slider,r)).toFixed(2)+"%",leftPercentNum=parseFloat(a),l=100-leftPercentNum+"%",leftPercentNum>0&&leftPercentNum<100&&(x(this.handle,"transition"),x(this.rightImage,"transition"),x(this.leftImage,"transition"),this.options.animate&&o&&(v(this.handle,"transition"),v(this.leftImage,"transition"),v(this.rightImage,"transition")),"vertical"===this.options.mode?(this.handle.style.top=a,this.leftImage.style.height=a,this.rightImage.style.height=l):(this.handle.style.left=a,this.leftImage.style.width=a,this.rightImage.style.width=l),this.sliderPosition=a)},getPosition:function(){return this.sliderPosition},displayLabel:function(r,o){label=c.createElement("div"),label.className="jx-label",label.setAttribute("tabindex",0),function y(r,o){c.body.textContent?r.textContent=o:r.innerText=o}(label,o),r.appendChild(label)},setStartingPosition:function(r){this.options.startingPosition=r},checkImages:function(){return b(this.imgBefore.image).aspect()==b(this.imgAfter.image).aspect()},calculateDims:function(r,o){var a=b(this.imgBefore.image).aspect();return r?o=r/a:o&&(r=o*a),{width:r,height:o,ratio:a}},responsivizeIframe:function(r){return r.height<d.innerHeight?r.ratio>=1&&(this.wrapper.style.paddingTop=parseInt((d.innerHeight-r.height)/2)+"px"):r.height>d.innerHeight&&(r=this.calculateDims(0,d.innerHeight),this.wrapper.style.paddingLeft=parseInt((d.innerWidth-r.width)/2)+"px"),this.options.showCredits&&(r.height-=13),r},setWrapperDimensions:function(){var r=j(this.wrapper).width,o=j(this.wrapper).height,a=this.calculateDims(r,o);d.location!==d.parent.location&&!this.options.makeResponsive&&(a=this.responsivizeIframe(a)),this.wrapper.style.height=parseInt(a.height)+"px",this.wrapper.style.width=parseInt(a.width)+"px"},optimizeWrapper:function(r){var o=A.OPTIMIZATION_ACCEPTED;return this.imgBefore.image.naturalWidth>=r&&this.imgAfter.image.naturalWidth>=r?(this.wrapper.style.width=r+"px",o=A.OPTIMIZATION_WAS_CONSTRAINED):this.wrapper.style.width=this.imgAfter.image.naturalWidth<r?this.imgAfter.image.naturalWidth+"px":this.imgBefore.image.naturalWidth+"px",this.setWrapperDimensions(),o},_onLoaded:function(){this.imgBefore&&!0===this.imgBefore.loaded&&this.imgAfter&&!0===this.imgAfter.loaded&&(this.wrapper=c.querySelector(this.selector),v(this.wrapper,"juxtapose"),this.wrapper.style.width=L(this.imgBefore.image).width,this.setWrapperDimensions(),this.slider=c.createElement("div"),this.slider.className="jx-slider",this.wrapper.appendChild(this.slider),"horizontal"!=this.options.mode&&v(this.slider,this.options.mode),this.handle=c.createElement("div"),this.handle.className="jx-handle",this.rightImage=c.createElement("div"),this.rightImage.className="jx-image jx-right",this.rightImage.appendChild(this.imgAfter.image),this.leftImage=c.createElement("div"),this.leftImage.className="jx-image jx-left",this.leftImage.appendChild(this.imgBefore.image),this.slider.appendChild(this.handle),this.slider.appendChild(this.leftImage),this.slider.appendChild(this.rightImage),this.leftArrow=c.createElement("div"),this.rightArrow=c.createElement("div"),this.control=c.createElement("div"),this.controller=c.createElement("div"),this.leftArrow.className="jx-arrow jx-left",this.rightArrow.className="jx-arrow jx-right",this.control.className="jx-control",this.controller.className="jx-controller",this.controller.setAttribute("tabindex",0),this.controller.setAttribute("role","slider"),this.controller.setAttribute("aria-label","Slider that separates before and after photos"),this.controller.setAttribute("aria-valuenow",50),this.controller.setAttribute("aria-valuemin",0),this.controller.setAttribute("aria-valuemax",100),this.handle.appendChild(this.leftArrow),this.handle.appendChild(this.control),this.handle.appendChild(this.rightArrow),this.control.appendChild(this.controller),this._init())},_init:function(){!1===this.checkImages()&&console.warn(this,"Check that the two images have the same aspect ratio for the slider to work correctly."),this.updateSlider(this.options.startingPosition,!1),!0===this.options.showLabels&&(this.imgBefore.label&&this.displayLabel(this.leftImage,this.imgBefore.label),this.imgAfter.label&&this.displayLabel(this.rightImage,this.imgAfter.label));var r=this;const o=new Hammer(this.slider),a=throttleDebounce.throttle(100,l=>{(l=l.srcEvent||d.event).preventDefault(),r.updateSlider(l,!0),animate=!0});o.on("panleft panright press",l=>{a(l)}),this.slider.addEventListener("mousedown",function(l){(l=l||d.event).preventDefault(),r.updateSlider(l,!0),animate=!0}),this.handle.addEventListener("keydown",function(l){var f=(l=l||d.event).which||l.keyCode,E=parseFloat(this.style.left);if(37==f){E-=1;var X=parseFloat(this.style.left)-1;r.updateSlider(X,!1),r.controller.setAttribute("aria-valuenow",E)}if(39==f){E+=1;var At=parseFloat(this.style.left)+1;r.updateSlider(At,!1),r.controller.setAttribute("aria-valuenow",E)}}),this.leftImage.addEventListener("keydown",function(l){var f=l.which||l.keyCode;(13==f||32==f)&&(r.updateSlider("90%",!0),r.controller.setAttribute("aria-valuenow",90))}),this.rightImage.addEventListener("keydown",function(l){var f=l.which||l.keyCode;(13==f||32==f)&&(r.updateSlider("10%",!0),r.controller.setAttribute("aria-valuenow",10))}),A.sliders.push(this),this.options.callback&&"function"==typeof this.options.callback&&this.options.callback(this)}},A.makeSlider=function(r,o){typeof o>"u"&&(o=A.sliders.length);var a=r,l=a.querySelectorAll("img"),f={};a.getAttribute("data-animate")&&(f.animate=a.getAttribute("data-animate")),a.getAttribute("data-showlabels")&&(f.showLabels=a.getAttribute("data-showlabels")),a.getAttribute("data-showcredits")&&(f.showCredits=a.getAttribute("data-showcredits")),a.getAttribute("data-startingposition")&&(f.startingPosition=a.getAttribute("data-startingposition")),a.getAttribute("data-mode")&&(f.mode=a.getAttribute("data-mode")),a.getAttribute("data-makeresponsive")&&(f.mode=a.getAttribute("data-makeresponsive")),specificClass="juxtapose-"+o,v(r,specificClass),selector="."+specificClass,a.innerHTML?a.innerHTML="":a.innerText="",slider=new A.JXSlider(selector,[{src:l[0].src,label:l[0].getAttribute("data-label"),credit:l[0].getAttribute("data-credit"),alt:l[0].alt},{src:l[1].src,label:l[1].getAttribute("data-label"),credit:l[1].getAttribute("data-credit"),alt:l[1].alt}],f)},A.scanPage=function(){for(var r=c.querySelectorAll(".juxtapose"),o=0;o<r.length;o++)A.makeSlider(r[o],o)},A.JXSlider=M,d.juxtapose=A,A.scanPage()}(document,window);